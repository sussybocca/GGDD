<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>FakeWiki Social</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
      color: #fff;
    }
    .container { max-width: 800px; margin: 50px auto; }
    input, button { padding: 10px; margin: 5px 0; width: 100%; }
    .hidden { display: none; }
    .post { background: #222; padding: 15px; margin-bottom: 10px; border-radius: 8px; }
  </style>
</head>
<body>
<div class="container">
  <h1>FakeWiki Social</h1>

  <!-- LOGIN SCREEN -->
  <div id="login-screen">
    <h2>Login / Sign Up</h2>
    <input type="email" id="email" placeholder="Email">
    <input type="password" id="password" placeholder="Password">
    <button id="email-login">Login / Sign Up</button>
    <button id="google-login">Login with Google</button>
    <button id="anonymous-login">Login Anonymously</button>
  </div>

  <!-- MAIN APP -->
  <div id="main-app" class="hidden">
    <h2>Welcome to FakeWiki</h2>
    <div id="articles">
      <div class="post">
        <h3>Article 1: Quantum Sandwich</h3>
        <p>This 100-word article is about a futuristic invention called the Quantum Sandwich. It allows food to exist in multiple states simultaneously, giving breakfast lovers endless possibilities. Scientists discovered that by vibrating atoms at a specific frequency, the sandwich could taste differently depending on your mood. The Quantum Sandwich became a cultural phenomenon, influencing culinary arts and even music. Restaurants worldwide competed to create the most advanced flavors. Ethical debates emerged about over-consuming quantum meals. In 2042, a law was passed regulating quantum food intake. Quantum Sandwich remains a symbol of human creativity and experimental cuisine in the 22nd century.</p>
      </div>
      <div class="post">
        <h3>Article 2: Anti-Gravity Umbrella</h3>
        <p>The Anti-Gravity Umbrella, invented in 2077, is a marvel of engineering. By emitting a controlled gravitational field, it allows users to float slightly above the ground while staying dry. Fashion designers adapted its elegant style for city life, and it became a symbol of prestige. Safety protocols were necessary, as early prototypes caused mild floating accidents. Schools integrated anti-gravity training exercises to prevent injuries. The umbrella also became a tourist attraction, offering floating sightseeing tours. By 2090, improved models could carry small pets safely. The Anti-Gravity Umbrella represents humanity's ability to combine practicality and whimsical innovation, forever changing daily life in cities.</p>
      </div>
      <div class="post">
        <h3>Article 3: Holographic Time Machine</h3>
        <p>In 3025, the Holographic Time Machine allowed users to experience alternate histories without leaving their living rooms. Powered by quantum neural interfaces, it created fully immersive simulations of past, present, and potential futures. Students explored historical events firsthand, artists gained inspiration from future possibilities, and psychologists used it for therapy. The device sparked debates on reality perception and ethics. Governments regulated its use to prevent misinformation. Personal versions became luxury items, often displayed in museums as art. Despite ethical concerns, the Holographic Time Machine represents the ultimate intersection of technology and imagination, giving humanity a safe window into the fabric of time and history.</p>
      </div>
    </div>
    <button id="logout">Logout</button>
  </div>
</div>

<!-- Firebase SDKs -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-analytics.js";
  import { initializeAppCheck, ReCaptchaV3Provider } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app-check.js";
  import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, signInWithPopup, GoogleAuthProvider, signInAnonymously, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

  const firebaseConfig = {
    apiKey: "AIzaSyB6xF5RTX6wy87TT17q61nUzoHI70JBkcA",
    authDomain: "funfu-b4ad8.firebaseapp.com",
    projectId: "funfu-b4ad8",
    storageBucket: "funfu-b4ad8.firebasestorage.app",
    messagingSenderId: "400767863064",
    appId: "1:400767863064:web:182b8d5f79aceacf59b66d",
    measurementId: "G-57DN56Z4VM"
  };

  const app = initializeApp(firebaseConfig);
  getAnalytics(app);

  // App Check
  initializeAppCheck(app, {
    provider: new ReCaptchaV3Provider('6Ld58csrAAAAABsusleaMoL8CN2phP4Q7b8Rs-X7'),
    isTokenAutoRefreshEnabled: true
  });

  // Auth
  const auth = getAuth(app);
  const loginScreen = document.getElementById("login-screen");
  const mainApp = document.getElementById("main-app");

  const emailInput = document.getElementById("email");
  const passwordInput = document.getElementById("password");

  document.getElementById("email-login").addEventListener("click", async () => {
    const email = emailInput.value;
    const password = passwordInput.value;
    try {
      await signInWithEmailAndPassword(auth, email, password);
    } catch (err) {
      await createUserWithEmailAndPassword(auth, email, password);
    }
  });

  document.getElementById("google-login").addEventListener("click", async () => {
    const provider = new GoogleAuthProvider();
    await signInWithPopup(auth, provider);
  });

  document.getElementById("anonymous-login").addEventListener("click", async () => {
    await signInAnonymously(auth);
  });

  document.getElementById("logout").addEventListener("click", async () => {
    await signOut(auth);
  });

  onAuthStateChanged(auth, (user) => {
    if (user) {
      loginScreen.classList.add("hidden");
      mainApp.classList.remove("hidden");
    } else {
      loginScreen.classList.remove("hidden");
      mainApp.classList.add("hidden");
    }
  });
</script>
</body>
</html>
